<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="./action.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentARyde</title>
</head>
<body>
    <nav>
        <div id="nav">
            <a href="menu.html" class="nav-item">Rent-A-Ryde</a>
            <a href="views.html" class="nav-item">VIEWS</a>
            <a href="search.html" class="nav-item">SEARCH</a>
            <a href="action.html" class="nav-item">ACTIONS</a>
        </div>
    </nav>  
    <div<<br> <br> <br> <br> <br> <br></div>
   
    <button onclick="callApi('createTable')" class="button-28" role="button">CREATE</button>
    <br>
    <button onclick="callApi('dropTable')" class="button-28" role="button">DROP</button>
    <br>
    <button onclick="callApi('populateTable')" class="button-28" role="button">POPULATE</button>

    <div><br> <br> <br> </div>

    <div id="apiResponseContainer">
        <h3 id="labelResponse">Response:</h3>
        <textarea id="apiResponse" rows="5" cols="50" readonly></textarea>
    </div>


 
    <script>
        const moonUsername = 'username'
        function callApi(action) {
            var header = new Headers({
                'Authorization': `Basic ${btoa(moonUsername)}`
            });
            
            fetch(`http://moon.scs.ryerson.ca:3000/${action}`,{headers: header})
            .then(response => response.json())
            .then(data => {
                const responseTextArea = document.getElementById('apiResponse');
                responseTextArea.value = `Message from ${action} action: ${data.message}`;
            })
            .catch(error => {
                console.error(`Error fetching ${action} API:`, error);
                const responseTextArea = document.getElementById('apiResponse');
                responseTextArea.value = `Error fetching ${action} action: ${error.message}`;
            });
        }
    </script>
 
    <footer id="footer">
        <div class="container row" id="social-container">
            <a>Wiliam</a>
            <span>•</span>
            <a>Russell</a>
            <span>•</span>
            <a>Davin</a>
        </div>
        <div>
            <p id="copyright">Copyright@ RentARyde</p>
        </div>
    </footer>
</body>
</html>